"use strict";(self.webpackChunkcontainer=self.webpackChunkcontainer||[]).push([[345],{5233:function(n,e,t){t.d(e,{Z:function(){return on}});var r=t(5893),o=t(1508),i=t(2747),a=t(4970),s=t(1307),c=t(2084),u=function(){return(0,c.useDispatch)()},l=c.useSelector,d=function(){return d=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var o in e=arguments[t])Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n},d.apply(this,arguments)},f=function(){var n=u();return{clearAuthInfo:function(){n((0,s.G)())},getTokenInfo:function(){n((0,a.z)())},addToken:function(e,t){return n((0,a.Z)({client_id:e,client_secret:t}))}}},p=function(){var n=l((function(n){return n})).auth;return d({},n)},h=t(9397),g=t(9809),v=t(847),y=t(3972),x=t(7868),k=t(6508),b=t(6807),m=function(){return m=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var o in e=arguments[t])Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n},m.apply(this,arguments)},j=function(){var n=l((function(n){return n})).addressBook;return m({},n)},S=t(2623),I=t(4486),w=t(3931),B=function(){return B=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var o in e=arguments[t])Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n},B.apply(this,arguments)},A=function(n){var e=n.id,t=n.anchorEl,o=n.open,i=n.handleClose,a=n.handleChange,s=n.options;return(0,r.jsx)(I.Z,{anchorEl:t,open:o,onClose:i,anchorOrigin:{vertical:"bottom",horizontal:"center"},sx:{"& .MuiPaper-root":{width:"unset"}},children:s.map((function(n){return(0,r.jsx)(w.Z,{onClick:function(e){return function(n,e){a(e.id),i(n)}(e,n)},sx:B({display:"flex",alignItems:"center",gap:2},e===n.id&&{color:function(n){return n.palette.primary.main}}),children:(0,r.jsx)(y.Z,{children:n.name})},n.id)}))})},Z=t(6489),T=t(948),P=(0,T.ZP)(o.Z)((function(){return{display:"flex",justifyContent:"center",alignItems:"center",background:"transparent !important",height:"100%"}})),E=function(){return E=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var o in e=arguments[t])Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n},E.apply(this,arguments)},L=function(n){var e=n.style,t=n.size,o=void 0===t?50:t;return(0,r.jsx)(P,{sx:E({alignSelf:"center"},e),children:(0,r.jsx)(Z.Z,{size:o})})},M=function(n,e,t){if(t||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return n.concat(r||Array.prototype.slice.call(e))},C=function(n){var e=n.entityName,t=n.addressBookId,a=n.onChangeAddressBookId,s=(0,S.useTheme)(),c=(0,i.useState)(null),u=c[0],l=c[1],d=j(),f=d.addressBooks,p=d.loadingAddressBooks,h=d.loadingAddressBooksForEntity,g=(0,i.useState)(t),v=g[0],x=g[1],k=(0,i.useMemo)((function(){var n;return null===(n=M([{id:0,name:"Не обрано"}],f,!0))||void 0===n?void 0:n.find((function(n){return(null==n?void 0:n.id)===v}))}),[f,v]),b=(0,i.useMemo)((function(){return p||h}),[p,h]),m=Boolean(u);return(0,i.useEffect)((function(){x(t)}),[t]),(0,r.jsxs)(o.Z,{sx:{background:s.palette.background.paper,color:s.palette.text.primary,padding:"7px 15px",borderRadius:"6px",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},children:[(0,r.jsx)(y.Z,{sx:{width:"100px",fontSize:"16px",color:s.palette.text.primary},children:function(n){switch(n){case"leads":return"Лід";case"contacts":return"Контакт";case"companies":return"Компанія";default:return""}}(e)}),b?(0,r.jsx)(L,{size:25}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(y.Z,{sx:{fontSize:"16px",color:m?s.palette.primary.main:s.palette.text.primary,letterSpacing:"0.15px",cursor:"pointer","&:hover":{color:s.palette.primary.main}},onClick:function(n){l(n.currentTarget)},children:null==k?void 0:k.name}),(0,r.jsx)(A,{id:v,options:Array.from(new Set(M([{id:0,name:"Не обрано"}],null==f?void 0:f.map((function(n){return{id:n.id,name:n.name}})),!0))),anchorEl:u,handleClose:function(n){l(null)},handleChange:function(n){x(n),a(n)},open:m})]}),(0,r.jsx)(S.Button,{disabled:b||!v,sx:{textTransform:"initial",fontSize:"14px"},onClick:function(){x(0),a(0)},children:"Скасувати"})]})},F=function(){return F=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var o in e=arguments[t])Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n},F.apply(this,arguments)},O=function(){var n,e=j(),t=e.addressBooksForEntity,a=e.addressBooks,s=e.dealsStatus,c=(n=u(),{clearAddressBooksInfo:function(){n((0,b.g)())},getAddressBooks:function(){n((0,k.$k)())},getAddressBookEntities:function(){n((0,k.sb)())},addAddressBookForEntity:function(e){n((0,k.h6)(e))},getDealsStatus:function(){n((0,k.fi)())},handleDealsStatus:function(e){n((0,k.wN)(e))}}),l=c.getAddressBooks,d=c.getAddressBookEntities,p=c.addAddressBookForEntity,m=c.clearAddressBooksInfo,S=c.getDealsStatus,I=c.handleDealsStatus,w=f().addToken,B=["leads","contacts","companies"],A=(0,i.useState)(null==t?void 0:t.entities),Z=A[0],T=A[1],P=(0,i.useState)(!1),E=P[0],L=P[1],M=(0,i.useState)(["enabled","success"].includes(null==s?void 0:s.message)),O=M[0],z=M[1];(0,i.useEffect)((function(){x.J&&S()}),[]),(0,i.useEffect)((function(){z(["enabled","success"].includes(null==s?void 0:s.message))}),[null==s?void 0:s.message]),(0,i.useEffect)((function(){T(null==t?void 0:t.entities)}),[null==t?void 0:t.entities]),(0,i.useEffect)((function(){var n;!(null==a?void 0:a.length)&&l(),!(null===(n=Object.keys(null==t?void 0:t.entities))||void 0===n?void 0:n.length)&&d()}),[]),(0,i.useEffect)((function(){L((null==t?void 0:t.entities.leads)!==(null==Z?void 0:Z.leads)||(null==t?void 0:t.entities.contacts)!==(null==Z?void 0:Z.contacts)||(null==t?void 0:t.entities.companies)!==(null==Z?void 0:Z.companies))}),[null==t?void 0:t.entities,Z]);var D=function(){p(Object.entries(Z).filter((function(n){return 0!==n[1]})).reduce((function(n,e){var t,r=e[0],o=e[1];return F(F({},n),((t={})[r]=o,t))}),{}))},$=function(){T(null==t?void 0:t.entities)};return(0,r.jsxs)(o.Z,{sx:{display:"flex",flexDirection:"column",gap:"15px",padding:"10px 30px"},children:[null==B?void 0:B.map((function(n){return(0,r.jsx)(C,{entityName:n,addressBookId:Z[n]||0,onChangeAddressBookId:(e=n,function(n){T((function(t){var r;return F(F({},t),((r={})[e]=n,r))}))})},n);var e})),(0,r.jsxs)(o.Z,{sx:{display:"flex",flexDirection:"row"},children:[x.J&&(0,r.jsx)(v.Z,{sx:{fontSize:"14px",marginLeft:"5px"},control:(0,r.jsx)(g.Z,{checked:O,onChange:function(n){I(n.target.checked),z(n.target.checked)}}),label:(0,r.jsx)(y.Z,{component:"span",sx:{color:function(n){return n.palette.text.primary},fontSize:"14px"},children:"створювати Угоду після створення Контакту в Адресній книзі Sendpulse"})}),!x.J&&E&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(h.Z,{sx:{textTransform:"initial",marginLeft:"5px"},onClick:D,children:"Зберегти"}),(0,r.jsx)(h.Z,{sx:{textTransform:"initial"},onClick:$,children:"Скасувати"})]}),(0,r.jsx)(h.Z,{sx:{marginLeft:"auto",textTransform:"initial",marginRight:"15px"},onClick:function(){w("0","0").then(m)},children:"Вийти"})]}),x.J&&(0,r.jsx)(o.Z,{sx:{display:"flex",flexDirection:"row"},children:E&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(h.Z,{sx:{textTransform:"initial",marginLeft:"5px"},onClick:D,children:"Зберегти"}),(0,r.jsx)(h.Z,{sx:{textTransform:"initial"},onClick:$,children:"Скасувати"})]})})]})},z=t(3366),D=t(7462),$=t(8216),W=t(7909),N=t(4780),_=t(1657),R=t(4867);function G(n){return(0,R.Z)("MuiLoadingButton",n)}var V=(0,t(1588).Z)("MuiLoadingButton",["root","loading","loadingIndicator","loadingIndicatorCenter","loadingIndicatorStart","loadingIndicatorEnd","endIconLoadingEnd","startIconLoadingStart"]);const J=["children","disabled","id","loading","loadingIndicator","loadingPosition","variant"],U=(0,T.ZP)(h.Z,{shouldForwardProp:n=>(n=>"ownerState"!==n&&"theme"!==n&&"sx"!==n&&"as"!==n&&"classes"!==n)(n)||"classes"===n,name:"MuiLoadingButton",slot:"Root",overridesResolver:(n,e)=>[e.root,e.startIconLoadingStart&&{[`& .${V.startIconLoadingStart}`]:e.startIconLoadingStart},e.endIconLoadingEnd&&{[`& .${V.endIconLoadingEnd}`]:e.endIconLoadingEnd}]})((({ownerState:n,theme:e})=>(0,D.Z)({[`& .${V.startIconLoadingStart}, & .${V.endIconLoadingEnd}`]:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0}},"center"===n.loadingPosition&&{transition:e.transitions.create(["background-color","box-shadow","border-color"],{duration:e.transitions.duration.short}),[`&.${V.loading}`]:{color:"transparent"}},"start"===n.loadingPosition&&n.fullWidth&&{[`& .${V.startIconLoadingStart}, & .${V.endIconLoadingEnd}`]:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0,marginRight:-8}},"end"===n.loadingPosition&&n.fullWidth&&{[`& .${V.startIconLoadingStart}, & .${V.endIconLoadingEnd}`]:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0,marginLeft:-8}}))),K=(0,T.ZP)("div",{name:"MuiLoadingButton",slot:"LoadingIndicator",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.loadingIndicator,e[`loadingIndicator${(0,$.Z)(t.loadingPosition)}`]]}})((({theme:n,ownerState:e})=>(0,D.Z)({position:"absolute",visibility:"visible",display:"flex"},"start"===e.loadingPosition&&("outlined"===e.variant||"contained"===e.variant)&&{left:"small"===e.size?10:14},"start"===e.loadingPosition&&"text"===e.variant&&{left:6},"center"===e.loadingPosition&&{left:"50%",transform:"translate(-50%)",color:(n.vars||n).palette.action.disabled},"end"===e.loadingPosition&&("outlined"===e.variant||"contained"===e.variant)&&{right:"small"===e.size?10:14},"end"===e.loadingPosition&&"text"===e.variant&&{right:6},"start"===e.loadingPosition&&e.fullWidth&&{position:"relative",left:-10},"end"===e.loadingPosition&&e.fullWidth&&{position:"relative",right:-10})));var q=i.forwardRef((function(n,e){const t=(0,_.Z)({props:n,name:"MuiLoadingButton"}),{children:o,disabled:i=!1,id:a,loading:s=!1,loadingIndicator:c,loadingPosition:u="center",variant:l="text"}=t,d=(0,z.Z)(t,J),f=(0,W.Z)(a),p=null!=c?c:(0,r.jsx)(Z.Z,{"aria-labelledby":f,color:"inherit",size:16}),h=(0,D.Z)({},t,{disabled:i,loading:s,loadingIndicator:p,loadingPosition:u,variant:l}),g=(n=>{const{loading:e,loadingPosition:t,classes:r}=n,o={root:["root",e&&"loading"],startIcon:[e&&`startIconLoading${(0,$.Z)(t)}`],endIcon:[e&&`endIconLoading${(0,$.Z)(t)}`],loadingIndicator:["loadingIndicator",e&&`loadingIndicator${(0,$.Z)(t)}`]},i=(0,N.Z)(o,G,r);return(0,D.Z)({},r,i)})(h),v=s?(0,r.jsx)(K,{className:g.loadingIndicator,ownerState:h,children:p}):null;return(0,r.jsxs)(U,(0,D.Z)({disabled:i||s,id:f,ref:e},d,{variant:l,classes:g,ownerState:h,children:["end"===h.loadingPosition?o:v,"end"===h.loadingPosition?v:o]}))})),H=t(8535),Q=t(8492),X=t(2715),Y=t(2670),nn=function(){return nn=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var o in e=arguments[t])Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n},nn.apply(this,arguments)},en=(0,T.ZP)(H.Z)((function(n){var e;return(e={})[n.theme.breakpoints.up("sm")]={width:"28rem"},e})),tn=(0,T.ZP)(X.Z)((function(){return{width:"100%",letterSpacing:"0.15px","& .MuiOutlinedInput-notchedOutline":{border:"1px solid rgba(58, 53, 65, 0.23)"},"& .MuiFormHelperText-root.Mui-error":{position:"absolute",bottom:"-20px",fontSize:"12px"},marginTop:"20px"}})),rn=function(){var n,e=(0,S.useTheme)(),t=f().addToken,a=p(),s=a.loadingAddToken,c=a.authInfo,u=(n=(0,Y.useSnackbar)().enqueueSnackbar,{errorNotification:function(e){n(e||"Помилка виконання запиту",{variant:"error",anchorOrigin:{vertical:"top",horizontal:"right"}})}}).errorNotification,l=(0,i.useState)(!1),d=l[0],h=l[1],g=(0,i.useState)({clientId:"",clientSecret:""}),v=g[0],x=g[1];(0,i.useEffect)((function(){c.has_token&&x({clientId:c.client_id,clientSecret:c.client_secret})}),[c]);var k=(0,i.useState)({clientId:!1,clientSecret:!1}),b=k[0],m=k[1],j=["clientId","clientSecret"],I=(0,i.useMemo)((function(){return Object.values(b).some((function(n){return n}))}),[b]),w=function(n){return function(e){m((function(t){var r;return nn(nn({},t),((r={})[n]=e,r))}))}},B=function(n){return function(e){var t;x(nn(nn({},v),((t={})[n]=e.target.value,t))),w(n)(!e.target.value.trim())}},A=function(n){h(!1),w(n)(!1)},Z=function(n,e){w(e)(!n.target.value.trim())},T=function(){h(!1);var n=Object.entries(v).filter((function(n){var e=n[0];return j.includes(e)})).some((function(n){return!n[1].trim().length}));if(I||n){m(Object.entries(v).filter((function(n){var e=n[0];return j.includes(e)})).reduce((function(n,e){var t,r=e[0],o=e[1];return nn(nn({},n),((t={})[r]=!o.trim().length,t))}),{}));var e=Object.entries(v).filter((function(n){var e=n[0];return j.includes(e)})).some((function(n){return!n[1].trim().length}));e&&u("Незаповнені необхідні поля")}else t(v.clientId,v.clientSecret).then((function(n){h(!n.payload.has_token)}))},P=function(n){n.stopPropagation(),"Enter"===n.key&&T()};return(0,r.jsx)(o.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center",padding:e.spacing(5)},children:(0,r.jsx)(en,{sx:{zIndex:1},children:(0,r.jsxs)(Q.Z,{sx:{p:function(n){return"".concat(n.spacing(12,9,7)," !important")},position:"relative"},children:[(0,r.jsxs)(o.Z,{sx:{mb:"10px"},children:[(0,r.jsx)(y.Z,{variant:"h5",sx:{fontWeight:600,mb:1.5},children:"Sendpulse"}),(0,r.jsx)(y.Z,{variant:"body2",children:"Скопіюйте, будь ласка, client id та client secret в особистому кабінеті Sendpulse та авторизуйтесь в системі"})]}),(0,r.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(n){return n.preventDefault()},children:[(0,r.jsx)(tn,{autoFocus:!0,fullWidth:!0,label:"ID",error:b.clientId,helperText:b.clientId&&"Введіть client ID",onKeyDown:P,onFocus:function(){return A("clientId")},onBlur:function(n){return Z(n,"clientId")},name:"clientId",value:v.clientId,onChange:B("clientId"),type:"text"}),(0,r.jsx)(tn,{fullWidth:!0,error:b.clientSecret,helperText:b.clientSecret&&"Введіть client secret",name:"clientSecret",label:"Secret",value:v.clientSecret,onKeyDown:P,onFocus:function(){return A("clientSecret")},onBlur:function(n){return Z(n,"clientSecret")},id:"clientSecret",onChange:B("clientSecret"),type:"text"}),(0,r.jsx)(q,{fullWidth:!0,loading:s,onClick:T,size:"large",type:"submit",variant:"contained",sx:{mt:"20px",background:e.palette.primary.main},children:"Login"})]}),!s&&!c.has_token&&d&&(0,r.jsxs)(y.Z,{sx:{marginTop:"10px",fontSize:"12px",color:e.palette.error.main},children:["Ви ввели неправильні авторизаційні дані! ",(0,r.jsx)("br",{}),"Будь ласка, перевірте та повторіть спробу"]})]})})})},on=function(){var n=f().getTokenInfo,e=p(),t=e.loadingGetTokenInfo,a=e.authInfo;return(0,i.useEffect)((function(){n()}),[]),t?(0,r.jsx)(o.Z,{sx:{height:"500px"},children:(0,r.jsx)(L,{size:100})}):(null==a?void 0:a.has_token)?(0,r.jsx)(O,{}):(0,r.jsx)(rn,{})}},7868:function(n,e,t){t.d(e,{J:function(){return r},x:function(){return o}});var r=["https://stage3.staging.uspacy.tech","http://localhost:8080"].includes(window.location.origin),o=r?"https://test-sendpulse.alterego.biz.ua/sendpulse/v1":"https://sendpulse.alterego.digital/sendpulse/v1"},1116:function(n,e,t){var r=t(5893),o=(0,t(2747).createContext)({});e.ZP=function(n){var e=n.children,t=n.userSettings;return(0,r.jsx)(o.Provider,{value:{userSettings:t},children:e})}},970:function(n,e,t){t.d(e,{LP:function(){return i}});var r=t(5762),o=("tokens",t.n(r)().createInstance({name:"Uspacy",storeName:"tokens"})),i=function(){return o.getItem("token")}},4534:function(n,e,t){t.d(e,{z:function(){return s}});var r=t(5552),o=t(6807),i=t(1307),a=(0,r.combineReducers)({auth:i.Z,addressBook:o.Z}),s=function(){return(0,r.configureStore)({reducer:a,middleware:function(n){return n()}})}},6508:function(n,e,t){t.d(e,{$k:function(){return c},fi:function(){return d},h6:function(){return l},sb:function(){return u},wN:function(){return f}});var r=t(5552),o=t(7868),i=t(970),a=function(n,e,t,r){return new(t||(t=Promise))((function(o,i){function a(n){try{c(r.next(n))}catch(n){i(n)}}function s(n){try{c(r.throw(n))}catch(n){i(n)}}function c(n){var e;n.done?o(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(a,s)}c((r=r.apply(n,e||[])).next())}))},s=function(n,e){var t,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(t=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(n,a)}catch(n){s=[6,n],r=0}finally{t=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},c=(0,r.createAsyncThunk)("addressBook/getAddressBooks",(function(n,e){return a(void 0,void 0,void 0,(function(){var n;return s(this,(function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),[4,(0,i.LP)()];case 1:return n=t.sent(),[4,fetch("".concat(o.x,"/addressbooks/getAddressbooks"),{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(n)}}).then((function(n){return a(void 0,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return[4,n.json()];case 1:return[2,e.sent()]}}))}))}))];case 2:return[2,t.sent()];case 3:return t.sent(),[2,e.rejectWithValue("Failure")];case 4:return[2]}}))}))})),u=(0,r.createAsyncThunk)("addressBook/getAddressBookEntities",(function(n,e){return a(void 0,void 0,void 0,(function(){var n;return s(this,(function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),[4,(0,i.LP)()];case 1:return n=t.sent(),[4,fetch("".concat(o.x,"/addressbooks/getAddressbookEntities"),{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(n)}}).then((function(n){return a(void 0,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return[4,n.json()];case 1:return[2,e.sent()]}}))}))}))];case 2:return[2,t.sent()];case 3:return t.sent(),[2,e.rejectWithValue("Failure")];case 4:return[2]}}))}))})),l=(0,r.createAsyncThunk)("addressBook/addAddressBookForEntity",(function(n,e){return a(void 0,void 0,void 0,(function(){var t;return s(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,(0,i.LP)()];case 1:return t=r.sent(),[4,fetch("".concat(o.x,"/addressbooks/addAddressbookForEntity"),{method:"POST",body:JSON.stringify({entities:n}),headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then((function(n){return a(void 0,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return[4,n.json()];case 1:return[2,e.sent()]}}))}))}))];case 2:return[2,r.sent()];case 3:return r.sent(),[2,e.rejectWithValue("Failure")];case 4:return[2]}}))}))})),d=(0,r.createAsyncThunk)("addressBook/getDealsStatus",(function(n,e){return a(void 0,void 0,void 0,(function(){var n;return s(this,(function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),[4,(0,i.LP)()];case 1:return n=t.sent(),[4,fetch("".concat(o.x,"/deals/settingStatus"),{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(n)}}).then((function(n){return a(void 0,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return[4,n.json()];case 1:return[2,e.sent()]}}))}))}))];case 2:return[2,t.sent()];case 3:return t.sent(),[2,e.rejectWithValue("Failure")];case 4:return[2]}}))}))})),f=(0,r.createAsyncThunk)("addressBook/handleDealsStatus",(function(n,e){return a(void 0,void 0,void 0,(function(){var t;return s(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,(0,i.LP)()];case 1:return t=r.sent(),[4,fetch("".concat(o.x,"/deals/").concat(n?"enable":"disable"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then((function(n){return a(void 0,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return[4,n.json()];case 1:return[2,e.sent()]}}))}))}))];case 2:return[2,r.sent()];case 3:return r.sent(),[2,e.rejectWithValue("Failure")];case 4:return[2]}}))}))}))},6807:function(n,e,t){t.d(e,{g:function(){return c}});var r,o=t(5552),i=t(6508),a={addressBooks:[],addressBooksForEntity:{entities:{}},dealsStatus:{status:!1,message:""},errorMessage:"",loadingAddressBooks:!0,loadingAddressBooksForEntity:!0,loadingUpdateAddressBooksForEntity:!1,loadingDealStatus:!0},s=(0,o.createSlice)({name:"addressBook",initialState:a,reducers:{clearAddressBooksInfo:function(n){n.addressBooks=a.addressBooks,n.addressBooksForEntity=a.addressBooksForEntity}},extraReducers:(r={},r[i.$k.fulfilled.type]=function(n,e){n.loadingAddressBooks=!1,n.errorMessage="",n.addressBooks=e.payload},r[i.$k.pending.type]=function(n){n.loadingAddressBooks=!0,n.errorMessage=""},r[i.$k.rejected.type]=function(n,e){n.loadingAddressBooks=!1,n.errorMessage=e.payload},r[i.sb.fulfilled.type]=function(n,e){n.loadingAddressBooksForEntity=!1,n.errorMessage="",n.addressBooksForEntity=e.payload},r[i.sb.pending.type]=function(n){n.loadingAddressBooksForEntity=!0,n.errorMessage=""},r[i.sb.rejected.type]=function(n,e){n.loadingAddressBooksForEntity=!1,n.errorMessage=e.payload},r[i.h6.fulfilled.type]=function(n,e){n.loadingUpdateAddressBooksForEntity=!1,n.errorMessage="",n.addressBooksForEntity=e.payload},r[i.h6.pending.type]=function(n){n.loadingUpdateAddressBooksForEntity=!0,n.errorMessage=""},r[i.h6.rejected.type]=function(n,e){n.loadingUpdateAddressBooksForEntity=!1,n.errorMessage=e.payload},r[i.fi.fulfilled.type]=function(n,e){n.loadingDealStatus=!1,n.errorMessage="",n.dealsStatus=e.payload},r[i.fi.pending.type]=function(n){n.loadingDealStatus=!0,n.errorMessage=""},r[i.fi.rejected.type]=function(n,e){n.loadingDealStatus=!1,n.errorMessage=e.payload},r[i.wN.fulfilled.type]=function(n,e){n.errorMessage="",n.dealsStatus=e.payload},r[i.wN.pending.type]=function(n){n.errorMessage=""},r[i.wN.rejected.type]=function(n,e){n.errorMessage=e.payload},r)}),c=s.actions.clearAddressBooksInfo;e.Z=s.reducer},4970:function(n,e,t){t.d(e,{Z:function(){return u},z:function(){return c}});var r=t(5552),o=t(7868),i=t(970),a=function(n,e,t,r){return new(t||(t=Promise))((function(o,i){function a(n){try{c(r.next(n))}catch(n){i(n)}}function s(n){try{c(r.throw(n))}catch(n){i(n)}}function c(n){var e;n.done?o(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(a,s)}c((r=r.apply(n,e||[])).next())}))},s=function(n,e){var t,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(t=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(n,a)}catch(n){s=[6,n],r=0}finally{t=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},c=(0,r.createAsyncThunk)("apps/getTokenInfo",(function(n,e){return a(void 0,void 0,void 0,(function(){var n;return s(this,(function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),[4,(0,i.LP)()];case 1:return n=t.sent(),[4,fetch("".concat(o.x,"/tokens/getTokenInfo"),{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(n)}}).then((function(n){return a(void 0,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return[4,n.json()];case 1:return[2,e.sent()]}}))}))}))];case 2:return[2,t.sent()];case 3:return t.sent(),[2,e.rejectWithValue("Failure")];case 4:return[2]}}))}))})),u=(0,r.createAsyncThunk)("apps/addToken",(function(n,e){return a(void 0,void 0,void 0,(function(){var t;return s(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,(0,i.LP)()];case 1:return t=r.sent(),[4,fetch("".concat(o.x,"/tokens/addToken"),{method:"POST",body:JSON.stringify(n),headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then((function(n){return a(void 0,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return[4,n.json()];case 1:return[2,e.sent()]}}))}))}))];case 2:return[2,r.sent()];case 3:return r.sent(),[2,e.rejectWithValue("Failure")];case 4:return[2]}}))}))}))},1307:function(n,e,t){t.d(e,{G:function(){return c}});var r,o=t(5552),i=t(4970),a={authInfo:{client_id:"",client_secret:"",status:!1,message:"",has_token:!1},errorMessage:"",loadingGetTokenInfo:!0,loadingAddToken:!1},s=(0,o.createSlice)({name:"auth",initialState:a,reducers:{clearAuthInfo:function(n){n.authInfo=a.authInfo}},extraReducers:(r={},r[i.z.fulfilled.type]=function(n,e){n.loadingGetTokenInfo=!1,n.errorMessage="",n.authInfo=e.payload},r[i.z.pending.type]=function(n){n.loadingGetTokenInfo=!0,n.errorMessage=""},r[i.z.rejected.type]=function(n,e){n.loadingGetTokenInfo=!1,n.errorMessage=e.payload},r[i.Z.fulfilled.type]=function(n,e){n.loadingAddToken=!1,n.errorMessage="",n.authInfo=e.payload},r[i.Z.pending.type]=function(n){n.loadingAddToken=!0,n.errorMessage=""},r[i.Z.rejected.type]=function(n,e){n.loadingAddToken=!1,n.errorMessage=e.payload},r)}),c=s.actions.clearAuthInfo;e.Z=s.reducer}}]);
//# sourceMappingURL=345.bcfc1cf1.chunk.js.map