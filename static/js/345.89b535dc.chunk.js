"use strict";(self.webpackChunkcontainer=self.webpackChunkcontainer||[]).push([[345],{5233:function(n,t,e){e.d(t,{Z:function(){return en}});var o=e(5893),i=e(1508),r=e(2747),a=e(970),s=e(4970),c=e(1307),l=e(2084),d=function(){return(0,l.useDispatch)()},u=l.useSelector,f=function(){return f=Object.assign||function(n){for(var t,e=1,o=arguments.length;e<o;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n},f.apply(this,arguments)},h=function(){var n=d();return{clearAuthInfo:function(){n((0,c.G)())},getTokenInfo:function(){n((0,s.z)())},addToken:function(t,e){return n((0,s.Z)({client_id:t,client_secret:e}))}}},p=function(){var n=u((function(n){return n})).auth;return f({},n)},m=e(9397),b=e(6508),g=e(6807),y=function(){return y=Object.assign||function(n){for(var t,e=1,o=arguments.length;e<o;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n},y.apply(this,arguments)},v=function(){var n=u((function(n){return n})).addressBook;return y({},n)},Z=e(2623),k=e(3972),x=e(4486),I=e(3931),L=function(){return L=Object.assign||function(n){for(var t,e=1,o=arguments.length;e<o;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n},L.apply(this,arguments)},j=function(n){var t=n.id,e=n.anchorEl,i=n.open,r=n.handleClose,a=n.handleChange,s=n.options;return(0,o.jsx)(x.Z,{anchorEl:e,open:i,onClose:r,anchorOrigin:{vertical:"bottom",horizontal:"center"},sx:{"& .MuiPaper-root":{width:"unset"}},children:s.map((function(n){return(0,o.jsx)(I.Z,{onClick:function(t){return function(n,t){a(t.id),r(n)}(t,n)},sx:L({display:"flex",alignItems:"center",gap:2},t===n.id&&{color:function(n){return n.palette.primary.main}}),children:(0,o.jsx)(k.Z,{children:n.name})},n.id)}))})},G=e(6489),W=e(948),S=(0,W.ZP)(i.Z)((function(){return{display:"flex",justifyContent:"center",alignItems:"center",background:"transparent !important",height:"100%"}})),w=function(){return w=Object.assign||function(n){for(var t,e=1,o=arguments.length;e<o;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n},w.apply(this,arguments)},Y=function(n){var t=n.style,e=n.size,i=void 0===e?50:e;return(0,o.jsx)(S,{sx:w({alignSelf:"center"},t),children:(0,o.jsx)(G.Z,{size:i})})},C=function(n,t,e){if(e||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)!o&&i in t||(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return n.concat(o||Array.prototype.slice.call(t))},V=function(n){var t=n.entityName,e=n.addressBookId,a=n.onChangeAddressBookId,s=(0,Z.useTheme)(),c=(0,r.useState)(null),l=c[0],d=c[1],u=v(),f=u.addressBooks,h=u.loadingAddressBooks,p=u.loadingAddressBooksForEntity,m=(0,r.useState)(e),b=m[0],g=m[1],y=(0,r.useMemo)((function(){var n;return null===(n=C([{id:0,name:"Не обрано"}],f,!0))||void 0===n?void 0:n.find((function(n){return(null==n?void 0:n.id)===b}))}),[f,b]),x=(0,r.useMemo)((function(){return h||p}),[h,p]),I=Boolean(l);return(0,r.useEffect)((function(){g(e)}),[e]),(0,o.jsxs)(i.Z,{sx:{background:s.palette.secondary.main,color:s.palette.background.paper,padding:"7px 15px",borderRadius:"6px",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},children:[(0,o.jsx)(k.Z,{sx:{width:"100px"},children:function(n){switch(n){case"leads":return"Лід";case"contacts":return"Контакт";case"companies":return"Компанія";default:return""}}(t)}),x?(0,o.jsx)(Y,{size:25}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(k.Z,{sx:{fontSize:"16px",color:I?s.palette.primary.main:s.palette.text.disabled,letterSpacing:"0.15px",cursor:"pointer","&:hover":{color:s.palette.primary.main}},onClick:function(n){d(n.currentTarget)},children:null==y?void 0:y.name}),(0,o.jsx)(j,{id:b,options:Array.from(new Set(C([{id:0,name:"Не обрано"}],null==f?void 0:f.map((function(n){return{id:n.id,name:n.name}})),!0))),anchorEl:l,handleClose:function(n){d(null)},handleChange:function(n){g(n),a(n)},open:I})]}),(0,o.jsx)(Z.Button,{disabled:x||!b,sx:{textTransform:"initial",fontSize:"14px"},onClick:function(){g(0),a(0)},children:"Скасувати"})]})},F=function(){return F=Object.assign||function(n){for(var t,e=1,o=arguments.length;e<o;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n},F.apply(this,arguments)},B=function(){var n,t=v(),e=t.addressBooksForEntity,a=t.addressBooks,s=(n=d(),{clearAddressBooksInfo:function(){n((0,g.g)())},getAddressBooks:function(){n((0,b.$k)())},getAddressBookEntities:function(){n((0,b.sb)())},addAddressBookForEntity:function(t){n((0,b.h6)(t))}}),c=s.getAddressBooks,l=s.getAddressBookEntities,u=s.addAddressBookForEntity,f=s.clearAddressBooksInfo,p=h().addToken,y=["leads","contacts","companies"],Z=(0,r.useState)(null==e?void 0:e.entities),k=Z[0],x=Z[1],I=(0,r.useState)(!1),L=I[0],j=I[1];return(0,r.useEffect)((function(){x(null==e?void 0:e.entities)}),[null==e?void 0:e.entities]),(0,r.useEffect)((function(){var n;!(null==a?void 0:a.length)&&c(),!(null===(n=Object.keys(null==e?void 0:e.entities))||void 0===n?void 0:n.length)&&l()}),[]),(0,r.useEffect)((function(){j((null==e?void 0:e.entities.leads)!==(null==k?void 0:k.leads)||(null==e?void 0:e.entities.contacts)!==(null==k?void 0:k.contacts)||(null==e?void 0:e.entities.companies)!==(null==k?void 0:k.companies))}),[null==e?void 0:e.entities,k]),(0,o.jsxs)(i.Z,{sx:{display:"flex",flexDirection:"column",gap:"15px",padding:"10px 30px"},children:[null==y?void 0:y.map((function(n){return(0,o.jsx)(V,{entityName:n,addressBookId:k[n]||0,onChangeAddressBookId:(t=n,function(n){x((function(e){var o;return F(F({},e),((o={})[t]=n,o))}))})},n);var t})),(0,o.jsxs)(i.Z,{sx:{display:"flex",flexDirection:"row"},children:[L&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(m.Z,{sx:{textTransform:"initial",marginLeft:"5px"},onClick:function(){u(Object.entries(k).filter((function(n){return 0!==n[1]})).reduce((function(n,t){var e,o=t[0],i=t[1];return F(F({},n),((e={})[o]=i,e))}),{}))},children:"Зберегти"}),(0,o.jsx)(m.Z,{sx:{textTransform:"initial"},onClick:function(){x(null==e?void 0:e.entities)},children:"Скасувати"})]}),(0,o.jsx)(m.Z,{sx:{marginLeft:"auto",textTransform:"initial",marginRight:"15px"},onClick:function(){p("0","0").then(f)},children:"Вийти"})]})]})},J=e(3366),z=e(7462),N=e(8216),R=e(7909),A=e(4780),X=e(1657),T=e(4867);function E(n){return(0,T.Z)("MuiLoadingButton",n)}var M=(0,e(1588).Z)("MuiLoadingButton",["root","loading","loadingIndicator","loadingIndicatorCenter","loadingIndicatorStart","loadingIndicatorEnd","endIconLoadingEnd","startIconLoadingStart"]);const O=["children","disabled","id","loading","loadingIndicator","loadingPosition","variant"],P=(0,W.ZP)(m.Z,{shouldForwardProp:n=>(n=>"ownerState"!==n&&"theme"!==n&&"sx"!==n&&"as"!==n&&"classes"!==n)(n)||"classes"===n,name:"MuiLoadingButton",slot:"Root",overridesResolver:(n,t)=>[t.root,t.startIconLoadingStart&&{[`& .${M.startIconLoadingStart}`]:t.startIconLoadingStart},t.endIconLoadingEnd&&{[`& .${M.endIconLoadingEnd}`]:t.endIconLoadingEnd}]})((({ownerState:n,theme:t})=>(0,z.Z)({[`& .${M.startIconLoadingStart}, & .${M.endIconLoadingEnd}`]:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},"center"===n.loadingPosition&&{transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),[`&.${M.loading}`]:{color:"transparent"}},"start"===n.loadingPosition&&n.fullWidth&&{[`& .${M.startIconLoadingStart}, & .${M.endIconLoadingEnd}`]:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0,marginRight:-8}},"end"===n.loadingPosition&&n.fullWidth&&{[`& .${M.startIconLoadingStart}, & .${M.endIconLoadingEnd}`]:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0,marginLeft:-8}}))),Q=(0,W.ZP)("div",{name:"MuiLoadingButton",slot:"LoadingIndicator",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.loadingIndicator,t[`loadingIndicator${(0,N.Z)(e.loadingPosition)}`]]}})((({theme:n,ownerState:t})=>(0,z.Z)({position:"absolute",visibility:"visible",display:"flex"},"start"===t.loadingPosition&&("outlined"===t.variant||"contained"===t.variant)&&{left:"small"===t.size?10:14},"start"===t.loadingPosition&&"text"===t.variant&&{left:6},"center"===t.loadingPosition&&{left:"50%",transform:"translate(-50%)",color:(n.vars||n).palette.action.disabled},"end"===t.loadingPosition&&("outlined"===t.variant||"contained"===t.variant)&&{right:"small"===t.size?10:14},"end"===t.loadingPosition&&"text"===t.variant&&{right:6},"start"===t.loadingPosition&&t.fullWidth&&{position:"relative",left:-10},"end"===t.loadingPosition&&t.fullWidth&&{position:"relative",right:-10})));var U=r.forwardRef((function(n,t){const e=(0,X.Z)({props:n,name:"MuiLoadingButton"}),{children:i,disabled:r=!1,id:a,loading:s=!1,loadingIndicator:c,loadingPosition:l="center",variant:d="text"}=e,u=(0,J.Z)(e,O),f=(0,R.Z)(a),h=null!=c?c:(0,o.jsx)(G.Z,{"aria-labelledby":f,color:"inherit",size:16}),p=(0,z.Z)({},e,{disabled:r,loading:s,loadingIndicator:h,loadingPosition:l,variant:d}),m=(n=>{const{loading:t,loadingPosition:e,classes:o}=n,i={root:["root",t&&"loading"],startIcon:[t&&`startIconLoading${(0,N.Z)(e)}`],endIcon:[t&&`endIconLoading${(0,N.Z)(e)}`],loadingIndicator:["loadingIndicator",t&&`loadingIndicator${(0,N.Z)(e)}`]},r=(0,A.Z)(i,E,o);return(0,z.Z)({},o,r)})(p),b=s?(0,o.jsx)(Q,{className:m.loadingIndicator,ownerState:p,children:h}):null;return(0,o.jsxs)(P,(0,z.Z)({disabled:r||s,id:f,ref:t},u,{variant:d,classes:m,ownerState:p,children:["end"===p.loadingPosition?i:b,"end"===p.loadingPosition?b:i]}))})),H=e(8535),$=e(8492),D=e(2715),_=e(2670),K=function(){return K=Object.assign||function(n){for(var t,e=1,o=arguments.length;e<o;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n},K.apply(this,arguments)},q=(0,W.ZP)(H.Z)((function(n){var t;return(t={})[n.theme.breakpoints.up("sm")]={width:"28rem"},t})),nn=(0,W.ZP)(D.Z)((function(){return{width:"100%",letterSpacing:"0.15px","& .MuiOutlinedInput-notchedOutline":{border:"1px solid rgba(58, 53, 65, 0.23)"},"& .MuiFormHelperText-root.Mui-error":{position:"absolute",bottom:"-20px",fontSize:"12px"},marginTop:"20px"}})),tn=function(){var n,t=(0,Z.useTheme)(),e=h().addToken,a=p(),s=a.loadingAddToken,c=a.authInfo,l=(n=(0,_.useSnackbar)().enqueueSnackbar,{errorNotification:function(t){n(t||"Помилка виконання запиту",{variant:"error",anchorOrigin:{vertical:"top",horizontal:"right"}})}}).errorNotification,d=(0,r.useState)(!1),u=d[0],f=d[1],m=(0,r.useState)({clientId:"",clientSecret:""}),b=m[0],g=m[1];(0,r.useEffect)((function(){c.has_token&&g({clientId:c.client_id,clientSecret:c.client_secret})}),[c]);var y=(0,r.useState)({clientId:!1,clientSecret:!1}),v=y[0],x=y[1],I=["clientId","clientSecret"],L=(0,r.useMemo)((function(){return Object.values(v).some((function(n){return n}))}),[v]),j=function(n){return function(t){x((function(e){var o;return K(K({},e),((o={})[n]=t,o))}))}},G=function(n){return function(t){var e;g(K(K({},b),((e={})[n]=t.target.value,e))),j(n)(!t.target.value.trim())}},W=function(n){f(!1),j(n)(!1)},S=function(n,t){j(t)(!n.target.value.trim())},w=function(){f(!1);var n=Object.entries(b).filter((function(n){var t=n[0];return I.includes(t)})).some((function(n){return!n[1].trim().length}));if(L||n){x(Object.entries(b).filter((function(n){var t=n[0];return I.includes(t)})).reduce((function(n,t){var e,o=t[0],i=t[1];return K(K({},n),((e={})[o]=!i.trim().length,e))}),{}));var t=Object.entries(b).filter((function(n){var t=n[0];return I.includes(t)})).some((function(n){return!n[1].trim().length}));t&&l("Незаповнені необхідні поля")}else e(b.clientId,b.clientSecret).then((function(n){f(!n.payload.has_token)}))},Y=function(n){n.stopPropagation(),"Enter"===n.key&&w()};return(0,o.jsx)(i.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center",padding:t.spacing(5),minHeight:"calc(100vh - ".concat(t.spacing(t.mixins.toolbar.minHeight/4),")")},children:(0,o.jsx)(q,{sx:{zIndex:1},children:(0,o.jsxs)($.Z,{sx:{p:function(n){return"".concat(n.spacing(12,9,7)," !important")},position:"relative"},children:[(0,o.jsxs)(i.Z,{sx:{mb:"10px"},children:[(0,o.jsx)(k.Z,{variant:"h5",sx:{fontWeight:600,mb:1.5},children:"Sendpulse"}),(0,o.jsx)(k.Z,{variant:"body2",children:"Please sign-in to your account and start the adventure"})]}),(0,o.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(n){return n.preventDefault()},children:[(0,o.jsx)(nn,{autoFocus:!0,fullWidth:!0,label:"ID",error:v.clientId,helperText:v.clientId&&"Введіть client ID",onKeyDown:Y,onFocus:function(){return W("clientId")},onBlur:function(n){return S(n,"clientId")},name:"clientId",value:b.clientId,onChange:G("clientId"),type:"text"}),(0,o.jsx)(nn,{fullWidth:!0,error:v.clientSecret,helperText:v.clientSecret&&"Введіть client secret",name:"clientSecret",label:"Secret",value:b.clientSecret,onKeyDown:Y,onFocus:function(){return W("clientSecret")},onBlur:function(n){return S(n,"clientSecret")},id:"clientSecret",onChange:G("clientSecret"),type:"text"}),(0,o.jsx)(U,{fullWidth:!0,loading:s,onClick:w,size:"large",type:"submit",variant:"contained",sx:{mt:"20px",background:t.palette.primary.main},children:"Login"})]}),!s&&!c.has_token&&u&&(0,o.jsxs)(k.Z,{sx:{fontSize:"12px",color:t.palette.error.main,position:"absolute",bottom:"11px"},children:["Ви ввели неправильні авторизаційні дані! ",(0,o.jsx)("br",{}),"Будь ласка, перевірте та повторіть спробу"]})]})})})},en=function(){var n=h().getTokenInfo,t=p(),e=t.loadingGetTokenInfo,s=t.authInfo;return(0,r.useEffect)((function(){(0,a.o4)("eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJodHRwOi8vYXV0aC1zZXJ2aWNlL2ludGVybmFsL2F1dGgvdjEvcmVmcmVzaF90b2tlbiIsImlhdCI6MTY5MjAxNzg2NywiZXhwIjoxNjkyOTY4MDQ2LCJuYmYiOjE2OTI5NjQ0NDYsImp0aSI6InFGTmZ6VWZ0blhnRldHamgiLCJpZCI6MTM1NiwiZW1haWwiOiJlYmlyeXVrb2ZmQGdtYWlsLmNvbSIsInN1YiI6IjEzNTYiLCJhdXRoVXNlcklkIjo3MjksImZpcnN0TmFtZSI6IkV2Z2VuaXkiLCJsYXN0TmFtZSI6IkJpcnl1a29mZiIsIndvcmtzcGFjZUlkIjoic3RhZ2UzIiwiZG9tYWluIjoic3RhZ2UzLnN0YWdpbmcudXNwYWN5LnRlY2giLCJyb2xlcyI6WyJBRE1JTiJdLCJkZXBhcnRtZW50cyI6WzFdLCJwZXJtaXNzaW9ucyI6eyJjcmVhdGUiOlsiY3JtLmxlYWRzLmNyZWF0ZS5hbGxvd2VkIiwiY3JtLmNvbnRhY3RzLmNyZWF0ZS5hbGxvd2VkIiwiY3JtLmNvbXBhbmllcy5jcmVhdGUuYWxsb3dlZCIsImNybS5kZWFscy5jcmVhdGUuYWxsb3dlZCIsImNybS5pbnZvaWNlLmNyZWF0ZS5hbGxvd2VkIiwiY3JtLnByb2R1Y3QuY3JlYXRlLmFsbG93ZWQiLCJjcm0uYWN0aXZpdHkuY3JlYXRlLmFsbG93ZWQiLCJocm0uaGlyaW5nLmNyZWF0ZS5hbGxvd2VkIiwiaHJtLmNhbmRpZGF0ZS5jcmVhdGUuYWxsb3dlZCIsImhybS5kZXBhcnRtZW50LmNyZWF0ZS5hbGxvd2VkIiwiaHJtLmVtcGxveWVlLmNyZWF0ZS5hbGxvd2VkIiwidGFza3MudGFzay5jcmVhdGUuYWxsb3dlZCIsInRhc2tzLmJvYXJkLmNyZWF0ZS5hbGxvd2VkIiwidGFza3MudGVtcGxhdGUuY3JlYXRlLmFsbG93ZWQiXSwidmlldyI6WyJjcm0ubGVhZHMudmlldy5hbGxvd2VkIiwiY3JtLmNvbnRhY3RzLnZpZXcuYWxsb3dlZCIsImNybS5jb21wYW5pZXMudmlldy5hbGxvd2VkIiwiY3JtLmRlYWxzLnZpZXcuYWxsb3dlZCIsImNybS5pbnZvaWNlLnZpZXcuYWxsb3dlZCIsImNybS5wcm9kdWN0LnZpZXcuYWxsb3dlZCIsImNybS5hY3Rpdml0eS52aWV3LmFsbG93ZWQiLCJocm0uaGlyaW5nLnZpZXcuYWxsb3dlZCIsImhybS5jYW5kaWRhdGUudmlldy5hbGxvd2VkIiwiaHJtLmRlcGFydG1lbnQudmlldy5hbGxvd2VkIiwiaHJtLmVtcGxveWVlLnZpZXcuYWxsb3dlZCIsInRhc2tzLnRhc2sudmlldy5hbGxvd2VkIiwidGFza3MuYm9hcmQudmlldy5hbGxvd2VkIiwidGFza3MudGVtcGxhdGUudmlldy5hbGxvd2VkIl0sImVkaXQiOlsiY3JtLmxlYWRzLmVkaXQuYWxsb3dlZCIsImNybS5jb250YWN0cy5lZGl0LmFsbG93ZWQiLCJjcm0uY29tcGFuaWVzLmVkaXQuYWxsb3dlZCIsImNybS5kZWFscy5lZGl0LmFsbG93ZWQiLCJjcm0uaW52b2ljZS5lZGl0LmFsbG93ZWQiLCJjcm0ucHJvZHVjdC5lZGl0LmFsbG93ZWQiLCJjcm0uYWN0aXZpdHkuZWRpdC5hbGxvd2VkIiwiaHJtLmhpcmluZy5lZGl0LmFsbG93ZWQiLCJocm0uY2FuZGlkYXRlLmVkaXQuYWxsb3dlZCIsImhybS5kZXBhcnRtZW50LmVkaXQuYWxsb3dlZCIsImhybS5lbXBsb3llZS5lZGl0LmFsbG93ZWQiLCJ0YXNrcy50YXNrLmVkaXQuYWxsb3dlZCIsInRhc2tzLmJvYXJkLmVkaXQuYWxsb3dlZCIsInRhc2tzLnRlbXBsYXRlLmVkaXQuYWxsb3dlZCIsIm5ld3NfZmVlZC5uZXdzLmVkaXQuYWxsb3dlZCJdLCJkZWxldGUiOlsiY3JtLmxlYWRzLmRlbGV0ZS5hbGxvd2VkIiwiY3JtLmNvbnRhY3RzLmRlbGV0ZS5hbGxvd2VkIiwiY3JtLmNvbXBhbmllcy5kZWxldGUuYWxsb3dlZCIsImNybS5kZWFscy5kZWxldGUuYWxsb3dlZCIsImNybS5pbnZvaWNlLmRlbGV0ZS5hbGxvd2VkIiwiY3JtLnByb2R1Y3QuZGVsZXRlLmFsbG93ZWQiLCJjcm0uYWN0aXZpdHkuZGVsZXRlLmFsbG93ZWQiLCJocm0uaGlyaW5nLmRlbGV0ZS5hbGxvd2VkIiwiaHJtLmNhbmRpZGF0ZS5kZWxldGUuYWxsb3dlZCIsImhybS5kZXBhcnRtZW50LmRlbGV0ZS5hbGxvd2VkIiwiaHJtLmVtcGxveWVlLmRlbGV0ZS5hbGxvd2VkIiwidGFza3MudGFzay5kZWxldGUuYWxsb3dlZCIsInRhc2tzLmJvYXJkLmRlbGV0ZS5hbGxvd2VkIiwidGFza3MudGVtcGxhdGUuZGVsZXRlLmFsbG93ZWQiLCJuZXdzX2ZlZWQubmV3cy5kZWxldGUuYWxsb3dlZCJdfSwidGFyaWZmSWQiOjN9.KI-hu-RTmUiHaI7Dd9i70T39XSBK45r_mksNbLZEtvs"),n()}),[]),e?(0,o.jsx)(i.Z,{sx:{height:"500px"},children:(0,o.jsx)(Y,{size:100})}):(null==s?void 0:s.has_token)?(0,o.jsx)(B,{}):(0,o.jsx)(tn,{})}},1116:function(n,t,e){var o=e(5893),i=(0,e(2747).createContext)({});t.ZP=function(n){var t=n.children,e=n.userSettings;return(0,o.jsx)(i.Provider,{value:{userSettings:e},children:t})}},970:function(n,t,e){e.d(t,{LP:function(){return a},o4:function(){return r}});var o=e(5762),i=("tokens",e.n(o)().createInstance({name:"Uspacy",storeName:"tokens"})),r=function(n){return i.setItem("token",n)},a=function(){return i.getItem("token")}},4534:function(n,t,e){e.d(t,{z:function(){return s}});var o=e(5552),i=e(6807),r=e(1307),a=(0,o.combineReducers)({auth:r.Z,addressBook:i.Z}),s=function(){return(0,o.configureStore)({reducer:a,middleware:function(n){return n()}})}},6508:function(n,t,e){e.d(t,{$k:function(){return s},h6:function(){return l},sb:function(){return c}});var o=e(5552),i=e(970),r=function(n,t,e,o){return new(e||(e=Promise))((function(i,r){function a(n){try{c(o.next(n))}catch(n){r(n)}}function s(n){try{c(o.throw(n))}catch(n){r(n)}}function c(n){var t;n.done?i(n.value):(t=n.value,t instanceof e?t:new e((function(n){n(t)}))).then(a,s)}c((o=o.apply(n,t||[])).next())}))},a=function(n,t){var e,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(s){return function(c){return function(s){if(e)throw new TypeError("Generator is already executing.");for(;r&&(r=0,s[0]&&(a=0)),a;)try{if(e=1,o&&(i=2&s[0]?o.return:s[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,s[1])).done)return i;switch(o=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,o=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(n,a)}catch(n){s=[6,n],o=0}finally{e=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},s=(0,o.createAsyncThunk)("addressBook/getAddressBooks",(function(n,t){return r(void 0,void 0,void 0,(function(){var n;return a(this,(function(e){switch(e.label){case 0:return e.trys.push([0,3,,4]),[4,(0,i.LP)()];case 1:return n=e.sent(),[4,fetch("https://test-sendpulse.alterego.biz.ua/sendpulse/v1/addressbooks/getAddressbooks",{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(n)}}).then((function(n){return r(void 0,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return[4,n.json()];case 1:return[2,t.sent()]}}))}))}))];case 2:return[2,e.sent()];case 3:return e.sent(),[2,t.rejectWithValue("Failure")];case 4:return[2]}}))}))})),c=(0,o.createAsyncThunk)("addressBook/getAddressBookEntities",(function(n,t){return r(void 0,void 0,void 0,(function(){var n;return a(this,(function(e){switch(e.label){case 0:return e.trys.push([0,3,,4]),[4,(0,i.LP)()];case 1:return n=e.sent(),[4,fetch("https://test-sendpulse.alterego.biz.ua/sendpulse/v1/addressbooks/getAddressbookEntities",{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(n)}}).then((function(n){return r(void 0,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return[4,n.json()];case 1:return[2,t.sent()]}}))}))}))];case 2:return[2,e.sent()];case 3:return e.sent(),[2,t.rejectWithValue("Failure")];case 4:return[2]}}))}))})),l=(0,o.createAsyncThunk)("addressBook/addAddressBookForEntity",(function(n,t){return r(void 0,void 0,void 0,(function(){var e;return a(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,(0,i.LP)()];case 1:return e=o.sent(),[4,fetch("https://test-sendpulse.alterego.biz.ua/sendpulse/v1/addressbooks/addAddressbookForEntity",{method:"POST",body:JSON.stringify({entities:n}),headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}).then((function(n){return r(void 0,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return[4,n.json()];case 1:return[2,t.sent()]}}))}))}))];case 2:return[2,o.sent()];case 3:return o.sent(),[2,t.rejectWithValue("Failure")];case 4:return[2]}}))}))}))},6807:function(n,t,e){e.d(t,{g:function(){return c}});var o,i=e(5552),r=e(6508),a={addressBooks:[],addressBooksForEntity:{entities:{}},errorMessage:"",loadingAddressBooks:!0,loadingAddressBooksForEntity:!0,loadingUpdateAddressBooksForEntity:!1},s=(0,i.createSlice)({name:"addressBook",initialState:a,reducers:{clearAddressBooksInfo:function(n){n.addressBooks=a.addressBooks,n.addressBooksForEntity=a.addressBooksForEntity}},extraReducers:(o={},o[r.$k.fulfilled.type]=function(n,t){n.loadingAddressBooks=!1,n.errorMessage="",n.addressBooks=t.payload},o[r.$k.pending.type]=function(n){n.loadingAddressBooks=!0,n.errorMessage=""},o[r.$k.rejected.type]=function(n,t){n.loadingAddressBooks=!1,n.errorMessage=t.payload},o[r.sb.fulfilled.type]=function(n,t){n.loadingAddressBooksForEntity=!1,n.errorMessage="",n.addressBooksForEntity=t.payload},o[r.sb.pending.type]=function(n){n.loadingAddressBooksForEntity=!0,n.errorMessage=""},o[r.sb.rejected.type]=function(n,t){n.loadingAddressBooksForEntity=!1,n.errorMessage=t.payload},o[r.h6.fulfilled.type]=function(n,t){n.loadingUpdateAddressBooksForEntity=!1,n.errorMessage="",n.addressBooksForEntity=t.payload},o[r.h6.pending.type]=function(n){n.loadingUpdateAddressBooksForEntity=!0,n.errorMessage=""},o[r.h6.rejected.type]=function(n,t){n.loadingUpdateAddressBooksForEntity=!1,n.errorMessage=t.payload},o)}),c=s.actions.clearAddressBooksInfo;t.Z=s.reducer},4970:function(n,t,e){e.d(t,{Z:function(){return c},z:function(){return s}});var o=e(5552),i=e(970),r=function(n,t,e,o){return new(e||(e=Promise))((function(i,r){function a(n){try{c(o.next(n))}catch(n){r(n)}}function s(n){try{c(o.throw(n))}catch(n){r(n)}}function c(n){var t;n.done?i(n.value):(t=n.value,t instanceof e?t:new e((function(n){n(t)}))).then(a,s)}c((o=o.apply(n,t||[])).next())}))},a=function(n,t){var e,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(s){return function(c){return function(s){if(e)throw new TypeError("Generator is already executing.");for(;r&&(r=0,s[0]&&(a=0)),a;)try{if(e=1,o&&(i=2&s[0]?o.return:s[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,s[1])).done)return i;switch(o=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,o=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(n,a)}catch(n){s=[6,n],o=0}finally{e=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},s=(0,o.createAsyncThunk)("apps/getTokenInfo",(function(n,t){return r(void 0,void 0,void 0,(function(){var n;return a(this,(function(e){switch(e.label){case 0:return e.trys.push([0,3,,4]),[4,(0,i.LP)()];case 1:return n=e.sent(),[4,fetch("https://test-sendpulse.alterego.biz.ua/sendpulse/v1/tokens/getTokenInfo",{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(n)}}).then((function(n){return r(void 0,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return[4,n.json()];case 1:return[2,t.sent()]}}))}))}))];case 2:return[2,e.sent()];case 3:return e.sent(),[2,t.rejectWithValue("Failure")];case 4:return[2]}}))}))})),c=(0,o.createAsyncThunk)("apps/addToken",(function(n,t){return r(void 0,void 0,void 0,(function(){var e;return a(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,(0,i.LP)()];case 1:return e=o.sent(),[4,fetch("https://test-sendpulse.alterego.biz.ua/sendpulse/v1/tokens/addToken",{method:"POST",body:JSON.stringify(n),headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}).then((function(n){return r(void 0,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return[4,n.json()];case 1:return[2,t.sent()]}}))}))}))];case 2:return[2,o.sent()];case 3:return o.sent(),[2,t.rejectWithValue("Failure")];case 4:return[2]}}))}))}))},1307:function(n,t,e){e.d(t,{G:function(){return c}});var o,i=e(5552),r=e(4970),a={authInfo:{client_id:"",client_secret:"",status:!1,message:"",has_token:!1},errorMessage:"",loadingGetTokenInfo:!0,loadingAddToken:!1},s=(0,i.createSlice)({name:"auth",initialState:a,reducers:{clearAuthInfo:function(n){n.authInfo=a.authInfo}},extraReducers:(o={},o[r.z.fulfilled.type]=function(n,t){n.loadingGetTokenInfo=!1,n.errorMessage="",n.authInfo=t.payload},o[r.z.pending.type]=function(n){n.loadingGetTokenInfo=!0,n.errorMessage=""},o[r.z.rejected.type]=function(n,t){n.loadingGetTokenInfo=!1,n.errorMessage=t.payload},o[r.Z.fulfilled.type]=function(n,t){n.loadingAddToken=!1,n.errorMessage="",n.authInfo=t.payload},o[r.Z.pending.type]=function(n){n.loadingAddToken=!0,n.errorMessage=""},o[r.Z.rejected.type]=function(n,t){n.loadingAddToken=!1,n.errorMessage=t.payload},o)}),c=s.actions.clearAuthInfo;t.Z=s.reducer}}]);
//# sourceMappingURL=345.89b535dc.chunk.js.map